<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333" />
    </marker>
    <linearGradient id="loveGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ff69b4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ff1493;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="errorGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ff6b6b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c92a2a;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- Title -->
  <text x="400" y="40" font-family="Arial, sans-serif" font-size="28" font-weight="bold" text-anchor="middle" fill="#333">
    EDLD Loop: Error → Love → Evolution
  </text>
  
  <!-- Main Loop Circle -->
  <circle cx="400" cy="300" r="200" fill="none" stroke="#ddd" stroke-width="3" stroke-dasharray="10,5" />
  
  <!-- Process Boxes -->
  <!-- 1. Measure Error -->
  <g transform="translate(400,100)">
    <rect x="-80" y="-25" width="160" height="50" rx="10" fill="url(#errorGradient)" opacity="0.8"/>
    <text x="0" y="5" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="white">
      Measure Error
    </text>
    <text x="0" y="-35" font-family="Arial" font-size="12" text-anchor="middle" fill="#666">
      Expected vs Actual
    </text>
  </g>
  
  <!-- 2. Love Injection -->
  <g transform="translate(580,200)">
    <rect x="-80" y="-25" width="160" height="50" rx="10" fill="url(#loveGradient)" opacity="0.8"/>
    <text x="0" y="5" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="white">
      Love Injection
    </text>
    <text x="0" y="40" font-family="Arial" font-size="12" text-anchor="middle" fill="#666">
      γ♥ modulates impact
    </text>
  </g>
  
  <!-- 3. Generate Mutations -->
  <g transform="translate(550,380)">
    <rect x="-80" y="-25" width="160" height="50" rx="10" fill="#4ecdc4" opacity="0.8"/>
    <text x="0" y="5" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="white">
      Generate Mutations
    </text>
    <text x="0" y="40" font-family="Arial" font-size="12" text-anchor="middle" fill="#666">
      [Δx, Δy, Δz]
    </text>
  </g>
  
  <!-- 4. Update State -->
  <g transform="translate(250,380)">
    <rect x="-80" y="-25" width="160" height="50" rx="10" fill="#6c5ce7" opacity="0.8"/>
    <text x="0" y="5" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="white">
      Update State
    </text>
    <text x="0" y="40" font-family="Arial" font-size="12" text-anchor="middle" fill="#666">
      Apply changes
    </text>
  </g>
  
  <!-- 5. Check Stability -->
  <g transform="translate(220,200)">
    <rect x="-80" y="-25" width="160" height="50" rx="10" fill="#f39c12" opacity="0.8"/>
    <text x="0" y="5" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="white">
      Check Stability
    </text>
    <text x="0" y="-35" font-family="Arial" font-size="12" text-anchor="middle" fill="#666">
      stability = f(error, coherence)
    </text>
  </g>
  
  <!-- Arrows -->
  <path d="M 480 125 Q 550 150 540 175" fill="none" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 580 225 Q 590 300 550 355" fill="none" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 470 380 Q 400 380 330 380" fill="none" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 250 355 Q 230 280 220 225" fill="none" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 260 175 Q 330 125 320 125" fill="none" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Central Formula -->
  <g transform="translate(400,300)">
    <circle cx="0" cy="0" r="80" fill="white" stroke="#333" stroke-width="2"/>
    <text x="0" y="-20" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">
      Intent' = Intent + 
    </text>
    <text x="0" y="0" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">
      f(Error, Love)
    </text>
    <text x="0" y="25" font-family="Arial" font-size="18" text-anchor="middle" fill="#ff1493">
      ♥ > 0.7 → Growth
    </text>
  </g>
  
  <!-- CID Log -->
  <g transform="translate(400,480)">
    <rect x="-100" y="-20" width="200" height="40" rx="20" fill="#95a5a6" opacity="0.7"/>
    <text x="0" y="5" font-family="Arial" font-size="14" text-anchor="middle" fill="white">
      Log to CID Chain
    </text>
  </g>
  <path d="M 400 380 L 400 460" stroke="#333" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  
  <!-- Legend -->
  <g transform="translate(50,500)">
    <text x="0" y="0" font-family="Arial" font-size="14" font-weight="bold" fill="#333">Key Insights:</text>
    <text x="0" y="20" font-family="Arial" font-size="12" fill="#666">• Error drives evolution</text>
    <text x="0" y="40" font-family="Arial" font-size="12" fill="#666">• Love transforms error to growth</text>
    <text x="0" y="60" font-family="Arial" font-size="12" fill="#666">• Stability emerges from adaptation</text>
  </g>
  
  <!-- Love Threshold Indicator -->
  <g transform="translate(650,450)">
    <rect x="-50" y="-40" width="100" height="80" rx="10" fill="none" stroke="#ff1493" stroke-width="2"/>
    <text x="0" y="-20" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#ff1493">
      Love > 0.7
    </text>
    <text x="0" y="0" font-family="Arial" font-size="11" text-anchor="middle" fill="#666">
      Error → Growth
    </text>
    <text x="0" y="20" font-family="Arial" font-size="11" text-anchor="middle" fill="#666">
      Coherence ↑
    </text>
  </g>
</svg>